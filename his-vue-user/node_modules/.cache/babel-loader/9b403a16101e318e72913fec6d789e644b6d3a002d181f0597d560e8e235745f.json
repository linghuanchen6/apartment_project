{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nexport default {\n  name: \"Server\",\n  data: function data() {\n    return {\n      currentUser: [],\n      dialogForm: false,\n      form: {\n        id: 0,\n        name: '',\n        username: '',\n        phone: '',\n        email: ''\n      }\n    };\n  },\n  methods: {\n    dialog: function dialog() {\n      var _this = this;\n      this.dialogForm = true;\n      this.$http.get('/api/server/getById/' + this.currentUser.id).then(function (res) {\n        _this.form = res.data.data.server;\n      });\n    },\n    modify: function modify() {\n      var _this2 = this;\n      this.$http.put('/api/server/modify', this.form).then(function (res) {\n        if (res.data.status == 1) {\n          _this2.$message.success(res.data.message);\n          _this2.dialogForm = false;\n          _this2.getForm();\n        } else {\n          _this2.$message.error(res.data.message);\n          _this2.dialogForm = false;\n        }\n      });\n    },\n    getForm: function getForm() {\n      var _this3 = this;\n      if (sessionStorage.getItem(\"currentUser\") != null) {\n        this.currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n      }\n      this.$http.get('/api/server/getById/' + this.currentUser.id).then(function (res) {\n        _this3.currentUser = res.data.data.server;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getForm();\n  }\n};","map":{"version":3,"names":["name","data","currentUser","dialogForm","form","id","username","phone","email","methods","dialog","_this","$http","get","then","res","server","modify","_this2","put","status","$message","success","message","getForm","error","_this3","sessionStorage","getItem","JSON","parse","mounted"],"sources":["src/views/data/Center.vue"],"sourcesContent":["<template>\r\n    <el-container>\r\n      <el-header style=\"display: inline-block;margin-left: 150px\">\r\n        <el-image style=\"width: 80px;height: 80px;float: left;cursor: pointer;margin-top: 25px\" :src=\"require('F:\\\\HIS\\\\his-vue-user\\\\src\\\\assets\\\\cimage\\\\touhou1.jpg')\"></el-image>\r\n        <el-descriptions style=\"float: left;margin-top: 15px;margin-left: 50px\" border>\r\n            <el-descriptions-item>\r\n              <template slot=\"label\"><i class=\"el-icon-user\"></i>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</template>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;{{currentUser.username}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            </el-descriptions-item>\r\n            <el-descriptions-item>\r\n              <template slot=\"label\"><i class=\"el-icon-mobile-phone\"></i>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;手机号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</template>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ currentUser.phone }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            </el-descriptions-item>\r\n            <el-descriptions-item>\r\n              <template slot=\"label\"><i class=\"el-icon-mobile-phone\"></i>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;昵称&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</template>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ currentUser.name }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            </el-descriptions-item>\r\n          <el-descriptions-item>\r\n            <template slot=\"label\"><i class=\"el-icon-user\"></i>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;邮箱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</template>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;{{currentUser.email}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n        <el-button style=\"margin-left: 60px;margin-top: 18px\" type=\"primary\" @click=\"dialog\">修改</el-button>\r\n        <el-dialog title=\"修改个人资料\" :visible.sync=\"dialogForm\">\r\n          <el-form :model=\"form\">\r\n            <el-form-item label=\"用户名\"><el-input style=\"width: 120px\" v-model=\"form.username\" autocomplete=\"off\"></el-input></el-form-item>\r\n            <el-form-item label=\"昵称\"><el-input style=\"width: 120px;float: left\" v-model=\"form.name\" autocomplete=\"off\"></el-input></el-form-item>\r\n            <el-form-item label=\"手机号\"><el-input  v-model=\"form.phone\" autocomplete=\"off\"></el-input></el-form-item>\r\n            <el-form-item label=\"邮箱\"><el-input v-model=\"form.email\" autocomplete=\"off\"></el-input></el-form-item>\r\n            \r\n  \r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogForm = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"modify\">确 定</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </el-header>\r\n    </el-container>\r\n  \r\n  </template>\r\n  \r\n  <script>\r\n  \r\n  export default {\r\n    name: \"Server\",\r\n    data() {\r\n      return{\r\n        currentUser: [],\r\n        dialogForm:false,\r\n        form:{\r\n          id:0,\r\n          name:'',\r\n          username:'',\r\n          phone:'',\r\n          email:'',\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      dialog(){\r\n        this.dialogForm = true\r\n        this.$http.get('/api/server/getById/'+this.currentUser.id).then(\r\n            res => {\r\n              this.form = res.data.data.server\r\n            }\r\n        )\r\n      },\r\n      modify(){\r\n        this.$http.put('/api/server/modify',this.form).then(\r\n            res => {\r\n              if(res.data.status==1){\r\n                this.$message.success(res.data.message)\r\n                this.dialogForm = false\r\n                this.getForm()\r\n              }else{\r\n                this.$message.error(res.data.message)\r\n                this.dialogForm = false\r\n              }\r\n            },\r\n        )\r\n      },\r\n      getForm(){\r\n        if(sessionStorage.getItem(\"currentUser\")!= null){\r\n          this.currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"))\r\n        }\r\n        this.$http.get('/api/server/getById/'+this.currentUser.id).then(\r\n            res => {\r\n              this.currentUser = res.data.data.server\r\n            }\r\n        )\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getForm();\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .tou{\r\n    width: 80px;\r\n    height: 80px;\r\n    border-radius: 130px;\r\n    float: left;\r\n    margin-left: 100px;\r\n  }\r\n  \r\n  </style>\r\n  "],"mappings":";AAgDA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,UAAA;MACAC,IAAA;QACAC,EAAA;QACAL,IAAA;QACAM,QAAA;QACAC,KAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,KAAAR,UAAA;MACA,KAAAS,KAAA,CAAAC,GAAA,+BAAAX,WAAA,CAAAG,EAAA,EAAAS,IAAA,CACA,UAAAC,GAAA;QACAJ,KAAA,CAAAP,IAAA,GAAAW,GAAA,CAAAd,IAAA,CAAAA,IAAA,CAAAe,MAAA;MACA,CACA;IACA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,KAAAN,KAAA,CAAAO,GAAA,4BAAAf,IAAA,EAAAU,IAAA,CACA,UAAAC,GAAA;QACA,IAAAA,GAAA,CAAAd,IAAA,CAAAmB,MAAA;UACAF,MAAA,CAAAG,QAAA,CAAAC,OAAA,CAAAP,GAAA,CAAAd,IAAA,CAAAsB,OAAA;UACAL,MAAA,CAAAf,UAAA;UACAe,MAAA,CAAAM,OAAA;QACA;UACAN,MAAA,CAAAG,QAAA,CAAAI,KAAA,CAAAV,GAAA,CAAAd,IAAA,CAAAsB,OAAA;UACAL,MAAA,CAAAf,UAAA;QACA;MACA,CACA;IACA;IACAqB,OAAA,WAAAA,QAAA;MAAA,IAAAE,MAAA;MACA,IAAAC,cAAA,CAAAC,OAAA;QACA,KAAA1B,WAAA,GAAA2B,IAAA,CAAAC,KAAA,CAAAH,cAAA,CAAAC,OAAA;MACA;MACA,KAAAhB,KAAA,CAAAC,GAAA,+BAAAX,WAAA,CAAAG,EAAA,EAAAS,IAAA,CACA,UAAAC,GAAA;QACAW,MAAA,CAAAxB,WAAA,GAAAa,GAAA,CAAAd,IAAA,CAAAA,IAAA,CAAAe,MAAA;MACA,CACA;IACA;EACA;EACAe,OAAA,WAAAA,QAAA;IACA,KAAAP,OAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}